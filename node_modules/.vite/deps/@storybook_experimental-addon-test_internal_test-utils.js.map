{
  "version": 3,
  "sources": ["../../@storybook/experimental-addon-test/dist/vitest-plugin/test-utils.mjs"],
  "sourcesContent": ["import '../chunk-CEH6MNVV.mjs';\nimport { getCsfFactoryAnnotations, composeStory } from 'storybook/internal/preview-api';\nimport { server } from '@vitest/browser/context';\nimport { UnsupportedViewportDimensionError } from 'storybook/internal/preview-errors';\n\nvar MINIMAL_VIEWPORTS={mobile1:{name:\"Small mobile\",styles:{height:\"568px\",width:\"320px\"},type:\"mobile\"},mobile2:{name:\"Large mobile\",styles:{height:\"896px\",width:\"414px\"},type:\"mobile\"},tablet:{name:\"Tablet\",styles:{height:\"1112px\",width:\"834px\"},type:\"tablet\"}};var DEFAULT_VIEWPORT_DIMENSIONS={width:1200,height:900},validPixelOrNumber=/^\\d+(px)?$/,percentagePattern=/^(\\d+(\\.\\d+)?%)$/,vwPattern=/^(\\d+(\\.\\d+)?vw)$/,vhPattern=/^(\\d+(\\.\\d+)?vh)$/,emRemPattern=/^(\\d+)(em|rem)$/,parseDimension=(value,dimension)=>{if(validPixelOrNumber.test(value))return Number.parseInt(value,10);if(percentagePattern.test(value)){let percentageValue=parseFloat(value)/100;return Math.round(DEFAULT_VIEWPORT_DIMENSIONS[dimension]*percentageValue)}else if(vwPattern.test(value)){let vwValue=parseFloat(value)/100;return Math.round(DEFAULT_VIEWPORT_DIMENSIONS.width*vwValue)}else if(vhPattern.test(value)){let vhValue=parseFloat(value)/100;return Math.round(DEFAULT_VIEWPORT_DIMENSIONS.height*vhValue)}else {if(emRemPattern.test(value))return Number.parseInt(value,10)*16;throw new UnsupportedViewportDimensionError({dimension,value})}},setViewport=async(parameters={},globals={})=>{let defaultViewport,viewportsParam=parameters.viewport??{},viewportsGlobal=globals.viewport??{},isDisabled=viewportsParam.disable||viewportsParam.disabled;viewportsGlobal.value&&!isDisabled?defaultViewport=viewportsGlobal.value:isDisabled||(defaultViewport=viewportsParam.defaultViewport);let{page}=await import('@vitest/browser/context').catch(()=>({page:null}));if(!page||!globalThis.__vitest_browser__)return;let viewports={...MINIMAL_VIEWPORTS,...viewportsParam.viewports,...viewportsParam.options},viewportWidth=DEFAULT_VIEWPORT_DIMENSIONS.width,viewportHeight=DEFAULT_VIEWPORT_DIMENSIONS.height;if(defaultViewport&&defaultViewport in viewports){let styles=viewports[defaultViewport].styles;if(styles?.width&&styles?.height){let{width,height}=styles;viewportWidth=parseDimension(width,\"width\"),viewportHeight=parseDimension(height,\"height\");}}await page.viewport(viewportWidth,viewportHeight);};var {getInitialGlobals}=server.commands,testStory=(exportName,story,meta,skipTags)=>async context=>{let annotations=getCsfFactoryAnnotations(story,meta),composedStory=composeStory(annotations.story,annotations.meta,{initialGlobals:await getInitialGlobals?.()??{}},annotations.preview??globalThis.globalProjectAnnotations,exportName);(composedStory===void 0||skipTags?.some(tag=>composedStory.tags.includes(tag)))&&context.skip(),context.story=composedStory;let _task=context.task;_task.meta.storyId=composedStory.id,await setViewport(composedStory.parameters,composedStory.globals),await composedStory.run(),_task.meta.reports=composedStory.reporting.reports;};\n\nexport { testStory };\n"],
  "mappings": "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",
  "names": []
}
