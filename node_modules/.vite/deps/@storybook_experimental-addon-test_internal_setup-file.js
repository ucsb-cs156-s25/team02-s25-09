import "./chunk-EGRHWZRV.js";
import "./chunk-ZKHFOGVC.js";
import {
  B2 as B
} from "./chunk-YULXVUVA.js";
import "./chunk-MTI3AIJG.js";

// node_modules/@storybook/experimental-addon-test/dist/vitest-plugin/setup-file.mjs
import { vi, afterEach } from "vitest";
var transport = { setHandler: vi.fn(), send: vi.fn() };
globalThis.__STORYBOOK_ADDONS_CHANNEL__ ?? (globalThis.__STORYBOOK_ADDONS_CHANNEL__ = new B({ transport }));
var modifyErrorMessage = ({ task }) => {
  var _a, _b;
  let meta = task.meta;
  if (task.type === "test" && ((_a = task.result) == null ? void 0 : _a.state) === "fail" && meta.storyId && ((_b = task.result.errors) == null ? void 0 : _b[0])) {
    let currentError = task.result.errors[0], storyUrl = `${import.meta.env.__STORYBOOK_URL__}/?path=/story/${meta.storyId}&addonPanel=storybook/test/panel`;
    currentError.message = `
\x1B[34mClick to debug the error directly in Storybook: ${storyUrl}\x1B[39m

${currentError.message}`;
  }
};
afterEach(modifyErrorMessage);
export {
  modifyErrorMessage
};
//# sourceMappingURL=@storybook_experimental-addon-test_internal_setup-file.js.map
